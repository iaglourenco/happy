{"version":3,"sources":["images/map-marker.svg","images/logo.svg","pages/Landing.tsx","utils/mapIcon.ts","services/api.ts","pages/OrphanagesMap.tsx","components/Sidebar.tsx","pages/Orphanage.tsx","pages/CreateOrphanage.tsx","routes.tsx","App.tsx","index.tsx"],"names":["module","exports","Landing","id","className","src","logoImg","alt","to","size","color","mapIcon","Leaflet","icon","iconUrl","mapMarkerImg","iconAnchor","iconSize","popupAnchor","api","axios","create","baseURL","OrphanagesMap","useState","orphanages","setOrphanages","h","useHistory","console","log","useEffect","get","then","response","data","type","onClick","push","Map","center","zoom","style","width","height","TileLayer","url","process","map","orphanage","Marker","position","latitude","longitude","key","Popup","closeButton","minWidth","maxWidth","name","Sidebar","goBack","goHome","Orphanage","params","useParams","setOrphanage","activeImageIndex","setActiveImageIndex","images","image","index","about","dragging","touchZoom","zoomControl","scrollWheelZoom","doubleClickZoom","target","rel","href","instructions","opening_hours","open_on_weekends","CreateOrphanage","setPosition","setName","setAbout","setInstructions","setOpeningHours","setOpenOnWeekends","setImages","previewImages","setPreviewImages","history","event","a","preventDefault","FormData","append","String","forEach","post","alert","onSubmit","latlng","lat","lng","interactive","happyMapIcon","htmlFor","value","onChange","maxLength","multiple","files","selectedImages","Array","from","selectedImagesPreview","URL","createObjectURL","Routes","basename","path","exact","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8EAAAA,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,2SC8B5BC,MAtBf,WACI,OAAQ,yBAAKC,GAAG,gBAChB,yBAAKC,UAAU,mBACb,yBAAKC,IAAKC,IAASC,IAAI,KAEvB,8BACE,4DACA,oFAGF,yBAAKH,UAAU,YACb,4CACA,+CAGF,kBAAC,IAAD,CAAMI,GAAG,OAAOJ,UAAU,aACxB,kBAAC,IAAD,CAAcK,KAAM,GAAIC,MAAM,wB,uECbvBC,E,OAPCC,EAAQC,KAAK,CACzBC,QAAQC,IACRC,WAAW,CAAC,GAAG,IACfC,SAAS,CAAC,GAAG,IACbC,YAAY,CAAC,IAAI,K,QCFNC,E,OAJHC,EAAMC,OAAO,CACrBC,QAAQ,0BC+FGC,MA/Ef,WAAyB,IAAD,EAEeC,mBAAsB,IAFrC,mBAEbC,EAFa,KAEFC,EAFE,KAGdC,EAAIC,cAeV,OATAC,QAAQC,IAAIL,GAEZM,qBAAU,WACNZ,EAAIa,IAAI,cAAcC,MAAK,SAAAC,GAC3BR,EAAcQ,EAASC,WAEzB,IAIE,yBAAKhC,GAAG,YACJ,+BACI,gCACI,4BAAQiC,KAAK,SAASC,QAhBtC,WACIV,EAAEW,KAAK,OAgBS,yBAAKjC,IAAKU,IAAcR,IAAI,WAIhC,2DACA,qFAGJ,gCACI,4CACA,8CACA,kBAAC,IAAD,CAAMC,GAAG,qBAAqBJ,UAAU,oBACpC,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,YAOpC,kBAAC6B,EAAA,EAAD,CACIC,OAAQ,EAAE,YAAY,YACtBC,KAAM,GACNC,MAAO,CAAEC,MAAO,OAAOC,OAAO,SAK9B,kBAACC,EAAA,EAAD,CAAWC,IAAG,oGAA+FC,oGAE5GtB,EAAWuB,KAAI,SAAAC,GACZ,OACI,kBAACC,EAAA,EAAD,CACAC,SAAU,CAACF,EAAUG,SAASH,EAAUI,WACxCxC,KAAMF,EACN2C,IAAKL,EAAU9C,IACX,kBAACoD,EAAA,EAAD,CAAOC,aAAa,EAAOC,SAAU,IAAKC,SAAU,IAAKtD,UAAU,aAC9D6C,EAAUU,KACX,kBAAC,IAAD,CAAMnD,GAAE,sBAAiByC,EAAU9C,KAC/B,kBAAC,IAAD,CAAcM,KAAM,GAAIC,MAAM,kB,YC1EnD,SAASkD,IAAU,IACzBC,EAAUjC,cAAViC,OACDlC,EAAIC,cAEV,SAASkC,IAEPnC,EAAEW,KAAK,KAEP,OACI,2BAAOlC,UAAU,eAEjB,4BAAQgC,KAAK,SAASC,QAASyB,GAC7B,yBAAKzB,QAASyB,EAAQzD,IAAKU,IAAcR,IAAI,WAE/C,gCACE,4BAAQ6B,KAAK,SAASC,QAASwB,GAC7B,kBAAC,IAAD,CAAapD,KAAM,GAAIC,MAAM,YCM1B,SAASqD,IAEtB,IAAMC,EAASC,cAFmB,EAGDzC,qBAHC,mBAG3ByB,EAH2B,KAGjBiB,EAHiB,OAIa1C,mBAAS,GAJtB,mBAI3B2C,EAJ2B,KAIVC,EAJU,KAcpC,OATEvC,QAAQC,IAAImB,GAEZlB,qBAAU,WACNZ,EAAIa,IAAJ,qBAAsBgC,EAAO7D,KAAM8B,MAAK,SAAAC,GACxCgC,EAAahC,EAASC,WAExB,CAAC6B,EAAO7D,KAGR8C,EAKA,yBAAK9C,GAAG,kBACN,kBAACyD,EAAD,MACA,8BACE,yBAAKxD,UAAU,qBACb,yBAAKC,IAAK4C,EAAUoB,OAAOF,GAAkBrB,IAAKvC,IAAK0C,EAAUU,OAEjE,yBAAKvD,UAAU,UACZ6C,EAAUoB,OAAOrB,KAAI,SAACsB,EAAMC,GAC3B,OACE,4BAAQjB,IAAKgB,EAAMnE,GAAIC,UAAW+D,IAAqBI,EAAQ,SAAW,GAAInC,KAAK,SAASC,QAAS,WACnG+B,EAAoBG,KAEpB,yBAAKlE,IAAKiE,EAAMxB,IAAKvC,IAAK0C,EAAUU,YAM5C,yBAAKvD,UAAU,6BACb,4BAAK6C,EAAUU,MACf,2BAAIV,EAAUuB,OAEd,yBAAKpE,UAAU,iBACb,kBAACmC,EAAA,EAAD,CACEC,OAAQ,CAACS,EAAUG,SAASH,EAAUI,WACtCZ,KAAM,GACNC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,KAChC6B,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,iBAAiB,EACjBC,iBAAiB,GAEjB,kBAAChC,EAAA,EAAD,CACEC,IAAG,oGAA+FC,oGAEpG,kBAACG,EAAA,EAAD,CACAC,SAAU,CAACF,EAAUG,SAASH,EAAUI,WACxCxC,KAAMF,KAIR,gCACE,uBAAGmE,OAAO,SAASC,IAAI,sBAAsBC,KAAI,6DAAwD/B,EAAUG,SAAlE,YAA8EH,EAAUI,YAAzI,8BAIJ,6BAEA,4DACA,2BAAIJ,EAAUgC,cAEd,yBAAK7E,UAAU,gBACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAASK,KAAM,GAAIC,MAAM,YAD3B,sBAEkB,6BACfuC,EAAUiC,eAGdjC,EAAUkC,iBACT,yBAAK/E,UAAU,oBACb,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,YAD1B,aAEY,6BAFZ,iBAOF,yBAAKN,UAAU,8BACb,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,YAD1B,oBAEgB,6BAFhB,sBAvEH,4C,mCCjCM,SAAS0E,IAAmB,IAAD,EACT5D,mBAAS,CAAC4B,SAAS,EAAEC,UAAU,IADtB,mBACjCF,EADiC,KACxBkC,EADwB,OAEjB7D,mBAAS,IAFQ,mBAEjCmC,EAFiC,KAE5B2B,EAF4B,OAGf9D,mBAAS,IAHM,mBAGjCgD,EAHiC,KAG3Be,EAH2B,OAID/D,mBAAS,IAJR,mBAIjCyD,EAJiC,KAIpBO,EAJoB,OAKAhE,mBAAS,IALT,mBAKjC0D,EALiC,KAKnBO,EALmB,OAMKjE,oBAAS,GANd,mBAMjC2D,EANiC,KAMhBO,EANgB,OAOdlE,mBAAiB,IAPH,mBAOlC6C,EAPkC,KAO3BsB,EAP2B,OAQAnE,mBAAmB,IARnB,mBAQlCoE,EARkC,KAQpBC,EARoB,KAUlCC,EAAUlE,cAVwB,4CAqBxC,WAA4BmE,GAA5B,eAAAC,EAAA,6DACED,EAAME,kBACA9D,EAAO,IAAI+D,UAEZC,OAAO,OAAQxC,GACpBxB,EAAKgE,OAAO,QAAS3B,GACrBrC,EAAKgE,OAAO,WAAWC,OAAOjD,EAASC,WACvCjB,EAAKgE,OAAO,YAAYC,OAAOjD,EAASE,YACxClB,EAAKgE,OAAO,eAAelB,GAC3B9C,EAAKgE,OAAO,gBAAiBjB,GAC7B/C,EAAKgE,OAAO,mBAAmBC,OAAOjB,IACtCd,EAAOgC,SAAQ,SAAA/B,GAAK,OAAInC,EAAKgE,OAAO,QAAQ7B,MAX9C,UAaQnD,EAAImF,KAAK,aAAanE,GAb9B,QAeEoE,MAAM,kCACNT,EAAQxD,KAAK,eAhBf,6CArBwC,sBAuDxC,OACE,yBAAKnC,GAAG,yBACN,kBAACyD,EAAD,MACA,8BACE,0BAAM4C,SA3D4B,4CA2DJpG,UAAU,yBACtC,kCACE,yCAEA,kBAACmC,EAAA,EAAD,CACEC,OAAQ,EAAE,YAAY,YACtBE,MAAO,CAAEC,MAAO,OAAQC,OAAQ,KAChCH,KAAM,GACNJ,QAvDZ,SAAwB0D,GAA0B,IAAD,EAC3BA,EAAMU,OAAjBC,EADsC,EACtCA,IAAIC,EADkC,EAClCA,IAEbtB,EAAY,CACVjC,SAASsD,EACTrD,UAAUsD,MAoDF,kBAAC9D,EAAA,EAAD,CACEC,IAAG,oGAA+FC,oGAG7E,IAAtBI,EAASC,UACR,kBAACF,EAAA,EAAD,CACA0D,aAAa,EACb/F,KAAMgG,EACN1D,SAAU,CAACA,EAASC,SAASD,EAASE,cAK1C,yBAAKjD,UAAU,eACb,2BAAO0G,QAAQ,QAAf,QACA,2BACA3G,GAAG,OACH4G,MAAOpD,EACPqD,SAAU,SAAAjB,GAAK,OAAIT,EAAQS,EAAMjB,OAAOiC,WAG1C,yBAAK3G,UAAU,eACb,2BAAO0G,QAAQ,SAAf,SAA6B,8DAC7B,8BACA3G,GAAG,OACH8G,UAAW,IACXF,MAAOvC,EACPwC,SAAU,SAAAjB,GAAK,OAAIR,EAASQ,EAAMjB,OAAOiC,WAG3C,yBAAK3G,UAAU,eACb,2BAAO0G,QAAQ,UAAf,SAEA,yBAAK1G,UAAU,oBACZwF,EAAc5C,KAAK,SAAAsB,GAClB,OACE,yBAAKhB,IAAKgB,EAAOjE,IAAKiE,EAAO/D,IAAKoD,OAIxC,2BAAOmD,QAAQ,UAAU1G,UAAU,aACjC,kBAAC,IAAD,CAAQK,KAAM,GAAIC,MAAM,cAK1B,2BAAOwG,UAAQ,EAACF,SA3E5B,SAA8BjB,GAC5B,GAAIA,EAAMjB,OAAOqC,MAAjB,CAGA,IAAMC,EAAiBC,MAAMC,KAAKvB,EAAMjB,OAAOqC,OAC/CxB,EAAUyB,GACV,IAAMG,EAAwBH,EAAepE,KAAI,SAAAsB,GAC/C,OAAOkD,IAAIC,gBAAgBnD,MAE7BuB,EAAiB0B,KAkEyCnF,KAAK,OAAOuB,KAAK,GAAGxD,GAAG,cAK3E,kCACE,mDAEA,yBAAKC,UAAU,eACb,2BAAO0G,QAAQ,gBAAf,oBACA,8BACA3G,GAAG,eACH4G,MAAO9B,EACP+B,SAAU,SAAAjB,GAAK,OAAIP,EAAgBO,EAAMjB,OAAOiC,WAGlD,yBAAK3G,UAAU,eACb,2BAAO0G,QAAQ,iBAAf,+BACA,2BACA3G,GAAG,gBACH4G,MAAO7B,EACP8B,SAAU,SAAAjB,GAAK,OAAIN,EAAgBM,EAAMjB,OAAOiC,WAGlD,yBAAK3G,UAAU,eACb,2BAAO0G,QAAQ,oBAAf,wBAEA,yBAAK1G,UAAU,iBACb,4BACAgC,KAAK,SACLhC,UAAW+E,EAAmB,SAAW,GACzC9C,QAAS,kBAAMqD,GAAkB,KAHjC,OAMA,4BACAtD,KAAK,SACLhC,UAAW+E,EAAmB,GAAK,SACnC9C,QAAS,kBAAMqD,GAAkB,KAHjC,aASN,4BAAQtF,UAAU,iBAAiBgC,KAAK,UAAxC,gBClJKsF,MAff,WACI,OACI,kBAAC,IAAD,CAAeC,SAAU5E,UACrB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO6E,KAAK,IAAIC,OAAK,EAACC,UAAW5H,IACjC,kBAAC,IAAD,CAAO0H,KAAK,OAAOE,UAAWvG,IAC9B,kBAAC,IAAD,CAAOqG,KAAK,qBAAqBE,UAAW1C,IAC5C,kBAAC,IAAD,CAAOwC,KAAK,kBAAkBE,UAAW/D,OCH1CgE,MANf,WACE,OACC,kBAAC,EAAD,OCFHC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.a1943014.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map-marker.284d1ea8.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.1653c647.svg\";","import React from 'react';\r\nimport '../styles/pages/landing.css'\r\nimport {FiArrowRight} from 'react-icons/fi'\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport logoImg from '../images/logo.svg'\r\n\r\n\r\nfunction Landing(){\r\n    return( <div id=\"page-landing\">\r\n    <div className=\"content-wrapper\">\r\n      <img src={logoImg} alt=\"\"></img>\r\n\r\n      <main>\r\n        <h1>Leve felicidade para o mundo</h1>\r\n        <p>Visite orfanatos e mude o dia de muitas crianças.</p>\r\n      </main>\r\n\r\n      <div className=\"location\">\r\n        <strong>Campinas</strong>\r\n        <span>São Paulo</span>\r\n      </div>\r\n\r\n      <Link to=\"/app\" className=\"enter-app\">\r\n        <FiArrowRight size={26} color=\"rgba(0,0,0,0.6)\"/>\r\n      </Link>\r\n    </div>\r\n  </div>);\r\n}\r\n\r\nexport default Landing;","import Leaflet from 'leaflet'\r\nimport mapMarkerImg from '../images/map-marker.svg'\r\n\r\n\r\nconst mapIcon = Leaflet.icon({\r\n    iconUrl:mapMarkerImg,\r\n    iconAnchor:[29,68],\r\n    iconSize:[58,68],\r\n    popupAnchor:[170,2],\r\n})\r\n\r\nexport default mapIcon","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL:'http://localhost:3333',\r\n})\r\n\r\nexport default api;","import React,{ useEffect, useState } from 'react'\r\n\r\nimport mapMarkerImg from '../images/map-marker.svg';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {FiArrowRight, FiPlus} from 'react-icons/fi'\r\nimport \"../styles/pages/orphanages-map.css\"\r\n\r\nimport { Map,TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport mapIcon from '../utils/mapIcon'\r\nimport api from '../services/api';\r\n\r\n\r\ninterface Orphanage{\r\n    id:number;\r\n    latitude:number;\r\n    longitude:number\r\n    name:string;\r\n}\r\n\r\nfunction OrphanagesMap(){\r\n\r\n    const [orphanages,setOrphanages] = useState<Orphanage[]>([]);\r\n    const h = useHistory();\r\n    \r\n\r\n    function goHome() {\r\n        h.push(\"/\");\r\n    }\r\n    console.log(orphanages);\r\n\r\n    useEffect(() => {\r\n        api.get('orphanages').then(response => {\r\n        setOrphanages(response.data);            \r\n        })\r\n    },[]);\r\n\r\n\r\n    return(\r\n        <div id=\"page-map\">\r\n            <aside>\r\n                <header>\r\n                    <button type=\"button\" onClick={goHome}>\r\n                        <img src={mapMarkerImg} alt=\"Happy\"/>\r\n                        \r\n                    </button>\r\n\r\n                    <h2>Escolha um orfanato no mapa</h2>\r\n                    <p>Muitas crianças estão esperando a sua visita :)</p>\r\n                </header>\r\n\r\n                <footer>\r\n                    <strong>Campinas</strong>\r\n                    <span>São Paulo</span>\r\n                    <Link to=\"/orphanages/create\" className=\"create-orphanage\">\r\n                        <FiPlus size={32} color=\"#FFF\"/>      \r\n                    \r\n                    </Link>\r\n                </footer>\r\n            </aside>\r\n\r\n\r\n            <Map \r\n                center={[-22.8775358,-47.0395845]} \r\n                zoom={15}\r\n                style={{ width: '100%',height:'100%' }}\r\n                >\r\n            \r\n                {/* <TileLayer url=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\"/> */}\r\n\r\n                <TileLayer url={`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`} />\r\n\r\n                {orphanages.map(orphanage =>{\r\n                    return(\r\n                        <Marker \r\n                        position={[orphanage.latitude,orphanage.longitude]} \r\n                        icon={mapIcon}\r\n                        key={orphanage.id}>\r\n                            <Popup closeButton={false} minWidth={240} maxWidth={240} className=\"map-popup\" >\r\n                                {orphanage.name}\r\n                                <Link to={`/orphanages/${orphanage.id}`}>\r\n                                    <FiArrowRight size={20} color=\"#FFF\"/>\r\n                                </Link>\r\n\r\n                            </Popup>\r\n                        </Marker>\r\n                    )\r\n                })}\r\n            </Map>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default OrphanagesMap;","import React from 'react';\r\nimport mapMarkerImg from '../images/map-marker.svg';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { FiArrowLeft } from 'react-icons/fi'\r\nimport '../styles/components/sidebar.css'\r\n\r\nexport default function Sidebar(){\r\n  const {goBack} = useHistory();\r\n  const h = useHistory();\r\n  \r\n  function goHome() {\r\n\r\n    h.push('/');    \r\n  }\r\n    return(\r\n        <aside className=\"app-sidebar\">\r\n\r\n        <button type=\"button\" onClick={goHome}>\r\n          <img onClick={goHome} src={mapMarkerImg} alt=\"Happy\" />\r\n        </button>\r\n        <footer>\r\n          <button type=\"button\" onClick={goBack}>\r\n            <FiArrowLeft size={24} color=\"#FFF\" />\r\n          </button>\r\n        </footer>\r\n      </aside> \r\n    );\r\n}","import React, { useEffect, useState } from \"react\";\n// import { FaWhatsapp } from \"react-icons/fa\";\nimport { FiClock, FiInfo } from \"react-icons/fi\";\nimport { Map, Marker, TileLayer } from \"react-leaflet\";\nimport { useParams } from \"react-router-dom\";\nimport '../styles/pages/orphanage.css';\nimport Sidebar from \"../components/Sidebar\";\nimport api from \"../services/api\";\nimport mapIcon from \"../utils/mapIcon\";\n\ninterface Orphanage{\n  latitude:number;\n  longitude:number\n  name:string;\n  instructions:string;\n  opening_hours:string;\n  open_on_weekends:boolean;\n  about:string;\n  images: Array<{\n    url:string;\n    id:number;\n  }>;\n}\n\ninterface OrphanageParams{\n  id:string;\n}\n\nexport default function Orphanage() {\n\n  const params = useParams<OrphanageParams>();\n  const [orphanage,setOrphanage] = useState<Orphanage>();\n  const [activeImageIndex,setActiveImageIndex] = useState(0);\n  console.log(orphanage);\n\n  useEffect(() => {\n      api.get(`orphanages/${params.id}`).then(response => {\n      setOrphanage(response.data);            \n      })\n  },[params.id]);\n\n\nif(!orphanage){\n  return <p>Carregando...</p>\n}\n\n  return (\n    <div id=\"page-orphanage\">\n      <Sidebar />\n      <main>\n        <div className=\"orphanage-details\">\n          <img src={orphanage.images[activeImageIndex].url} alt={orphanage.name} />\n\n          <div className=\"images\">\n            {orphanage.images.map((image,index) =>{\n              return (\n                <button key={image.id} className={activeImageIndex === index ? 'active' : ''} type=\"button\" onClick={() =>{\n                  setActiveImageIndex(index)\n                }}>\n                  <img src={image.url} alt={orphanage.name}/>\n                </button>\n              )\n            })}\n          </div>\n          \n          <div className=\"orphanage-details-content\">\n            <h1>{orphanage.name}</h1>\n            <p>{orphanage.about}</p>\n\n            <div className=\"map-container\">\n              <Map \n                center={[orphanage.latitude,orphanage.longitude]} \n                zoom={16} \n                style={{ width: '100%', height: 280 }}\n                dragging={false}\n                touchZoom={false}\n                zoomControl={false}\n                scrollWheelZoom={false}\n                doubleClickZoom={false}\n              >\n                <TileLayer \n                  url={`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                />\n                <Marker \n                position={[orphanage.latitude,orphanage.longitude]} \n                icon={mapIcon}>\n                </Marker>\n              </Map>\n\n              <footer>\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://www.google.com/maps/dir/?api=1&destination=${orphanage.latitude},${orphanage.longitude}`}>Ver rotas no Google Maps</a>\n              </footer>\n            </div>\n\n            <hr />\n\n            <h2>Instruções para visita</h2>\n            <p>{orphanage.instructions}</p>\n\n            <div className=\"open-details\">\n              <div className=\"hour\">\n                <FiClock size={32} color=\"#15B6D6\" />\n                Segunda à Sexta <br />\n                {orphanage.opening_hours}\n              </div>\n\n            {orphanage.open_on_weekends ? (\n              <div className=\"open-on-weekends\">\n                <FiInfo size={32} color=\"#39CC83\" />\n                Atendemos <br />\n                fim de semana\n              </div>\n\n            ) :(\n            <div className=\"dont-open-open-on-weekends\">\n              <FiInfo size={32} color=\"#FF669D\" />\n              Não atendemos <br />\n              fim de semana\n            </div>\n          \n            )}\n            \n            </div>\n\n            {/* <button type=\"button\" className=\"contact-button\">\n              <FaWhatsapp size={20} color=\"#FFF\" />\n              Entrar em contato\n            </button> */}\n          \n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}","import React, { ChangeEvent, FormEvent, useState } from \"react\";\nimport { Map, Marker, TileLayer} from 'react-leaflet';\nimport { FiPlus } from \"react-icons/fi\";\nimport { LeafletMouseEvent } from 'leaflet'\nimport '../styles/pages/create-orphanage.css';\nimport Sidebar from \"../components/Sidebar\";\nimport happyMapIcon from '../utils/mapIcon'\nimport api from \"../services/api\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function CreateOrphanage() {\n  const [position,setPosition] = useState({latitude:0,longitude:0})\n  const [name,setName] = useState('')\n  const [about,setAbout] = useState('')\n  const [instructions,setInstructions] = useState('')\n  const [opening_hours,setOpeningHours] = useState('')\n  const [open_on_weekends,setOpenOnWeekends] = useState(true)\n  const[images,setImages] = useState<File[]>([])\n  const[previewImages,setPreviewImages] = useState<string[]>([])\n\n  const history = useHistory();\n\n  function handleMapClick(event:LeafletMouseEvent) {\n      const {lat,lng} = event.latlng;  \n    \n    setPosition({\n      latitude:lat,\n      longitude:lng  \n      })\n  }\n\n  async function handleSubmit(event:FormEvent) {\n    event.preventDefault();\n    const data = new FormData();\n\n    data.append('name', name);\n    data.append('about', about);\n    data.append('latitude',String(position.latitude));\n    data.append('longitude',String(position.longitude));\n    data.append('instructions',instructions);\n    data.append('opening_hours', opening_hours);\n    data.append('open_on_weekends',String(open_on_weekends));\n    images.forEach(image => data.append('image',image));\n\n    await api.post('orphanages',data);\n  \n    alert('Cadastro realizado com sucesso');\n    history.push('/orphanages');\n  }\n\n  function handleSelectedImages(event:ChangeEvent<HTMLInputElement>) {\n    if(!event.target.files){\n      return;\n    }\n    const selectedImages = Array.from(event.target.files)\n    setImages(selectedImages)\n    const selectedImagesPreview = selectedImages.map(image =>{\n      return URL.createObjectURL(image);\n    })\n    setPreviewImages(selectedImagesPreview);\n  }\n\n\n  \n\n  return (\n    <div id=\"page-create-orphanage\">\n      <Sidebar />      \n      <main>\n        <form onSubmit={handleSubmit} className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <Map \n              center={[-27.2092052,-49.6401092]} \n              style={{ width: '100%', height: 280 }}\n              zoom={15}\n              onClick={handleMapClick}\n            >\n              <TileLayer \n                url={`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n              />\n\n              {position.latitude !== 0 && (\n                <Marker \n                interactive={false} \n                icon={happyMapIcon} \n                position={[position.latitude,position.longitude]} />\n              )}\n\n            </Map>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input \n              id=\"name\" \n              value={name} \n              onChange={event => setName(event.target.value)}/>\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\n              <textarea \n              id=\"name\" \n              maxLength={300} \n              value={about}\n              onChange={event => setAbout(event.target.value)}/>\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n                {previewImages.map((image => {\n                  return (\n                    <img key={image} src={image} alt={name} />\n                  )\n                }))}\n\n              <label htmlFor=\"image[]\" className=\"new-image\">\n                <FiPlus size={24} color=\"#15b6d6\" />\n              </label>\n              </div>\n             \n\n              <input multiple onChange={handleSelectedImages} type=\"file\" name=\"\" id=\"image[]\"/>\n              \n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea \n              id=\"instructions\" \n              value={instructions}\n              onChange={event => setInstructions(event.target.value)}/>\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de Funcionamento</label>\n              <input \n              id=\"opening_hours\" \n              value={opening_hours}\n              onChange={event => setOpeningHours(event.target.value)}/>\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button \n                type=\"button\" \n                className={open_on_weekends ? 'active' : ''}\n                onClick={() => setOpenOnWeekends(true)}\n                >Sim</button>\n               \n                <button \n                type=\"button\"\n                className={open_on_weekends ? '' : 'active'}\n                onClick={() => setOpenOnWeekends(false)}\n                >Não</button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n","import React from 'react';\r\nimport { BrowserRouter,Switch, Route } from 'react-router-dom';\r\nimport Landing from './pages/Landing'\r\nimport OrphanagesMap from './pages/OrphanagesMap'\r\nimport Orphanage from './pages/Orphanage'\r\nimport CreateOrphanage from './pages/CreateOrphanage'\r\n\r\nfunction Routes(){\r\n    return(\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Landing}/>        \r\n                <Route path=\"/app\" component={OrphanagesMap}/>        \r\n                <Route path=\"/orphanages/create\" component={CreateOrphanage}/>        \r\n                <Route path=\"/orphanages/:id\" component={Orphanage}/>        \r\n            </Switch>\r\n        </BrowserRouter>\r\n    \r\n    );\r\n}\r\n\r\n\r\nexport default Routes;","import React from 'react';\nimport './styles/global.css'\nimport 'leaflet/dist/leaflet.css'\nimport Routes from './routes'\n\nfunction App() {\n  return (\n   <Routes />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}